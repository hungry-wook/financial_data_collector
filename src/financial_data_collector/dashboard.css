*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Segoe UI', system-ui, sans-serif; background: #f0f4f8; color: #1a202c; min-height: 100vh; }
header { background: #1e3a5f; color: #fff; padding: 1rem 1.5rem; display: flex; align-items: center; gap: .75rem; }
header h1 { font-size: 1.2rem; font-weight: 600; }
header span { font-size: .8rem; opacity: .7; }
nav { background: #fff; border-bottom: 1px solid #e2e8f0; padding: 0 1.5rem; display: flex; gap: .25rem; }
nav button { padding: .65rem 1rem; font-size: .875rem; border: none; background: none; cursor: pointer;
  color: #4a5568; border-bottom: 2px solid transparent; transition: all .15s; }
nav button:hover { color: #1e3a5f; }
nav button.active { color: #1e3a5f; border-bottom-color: #1e3a5f; font-weight: 600; }
main { padding: 1.5rem; max-width: 1400px; margin: 0 auto; }
.cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
.card { background: #fff; border-radius: 8px; padding: 1rem 1.25rem; box-shadow: 0 1px 3px rgba(0,0,0,.08); }
.card .label { font-size: .75rem; color: #718096; text-transform: uppercase; letter-spacing: .05em; margin-bottom: .35rem; }
.card .value { font-size: 1.5rem; font-weight: 700; color: #1e3a5f; }
.card .value.small { font-size: 1rem; }
.card .sub { font-size: .72rem; color: #a0aec0; margin-top: .2rem; }
.card.compact { box-shadow: none; border: 1px solid #e2e8f0; }
.section { background: #fff; border-radius: 8px; padding: 1.25rem; box-shadow: 0 1px 3px rgba(0,0,0,.08); margin-bottom: 1.5rem; }
.section h2 { font-size: .95rem; font-weight: 600; margin-bottom: 1rem; color: #2d3748; }
table { width: 100%; border-collapse: collapse; font-size: .82rem; }
th { text-align: left; padding: .5rem .75rem; background: #f7fafc; color: #718096; font-weight: 600;
  font-size: .75rem; text-transform: uppercase; letter-spacing: .04em; border-bottom: 1px solid #e2e8f0; }
td { padding: .55rem .75rem; border-bottom: 1px solid #f0f4f8; color: #2d3748; }
tr:last-child td { border-bottom: none; }
tr:hover td { background: #f7fafc; }
.badge { display: inline-block; padding: .15rem .5rem; border-radius: 999px; font-size: .72rem; font-weight: 600; }
.badge-success { background: #c6f6d5; color: #276749; }
.badge-partial { background: #fefcbf; color: #7b6914; }
.badge-failed  { background: #fed7d7; color: #9b2c2c; }
.badge-running { background: #bee3f8; color: #2b6cb0; }
.badge-error   { background: #fed7d7; color: #9b2c2c; }
.badge-warn    { background: #fefcbf; color: #7b6914; }
.badge-info    { background: #ebf8ff; color: #2b6cb0; }
.controls { display: flex; gap: .75rem; flex-wrap: wrap; margin-bottom: 1rem; }
.controls input, .controls select { padding: .45rem .75rem; border: 1px solid #e2e8f0; border-radius: 6px;
  font-size: .85rem; color: #2d3748; outline: none; }
.controls input:focus, .controls select:focus { border-color: #4a90e2; }
.controls button { padding: .45rem 1rem; background: #1e3a5f; color: #fff; border: none; border-radius: 6px;
  font-size: .85rem; cursor: pointer; }
.controls button:hover { background: #2a4f7c; }
.chart-wrap { position: relative; height: 420px; margin-top: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden; background: #fff; }
.lw-chart { width: 100%; height: 100%; position: relative; }
.lw-tooltip { position: absolute; z-index: 10; min-width: 150px; padding: .45rem .6rem; background: rgba(15, 23, 42, .92); color: #fff;
  border-radius: 6px; font-size: .72rem; line-height: 1.35; pointer-events: none; box-shadow: 0 8px 30px rgba(15, 23, 42, .35); }
.lw-tooltip .tt-date { font-weight: 700; margin-bottom: .3rem; color: #93c5fd; }

.ma-panel { border: 1px solid #e2e8f0; border-radius: 8px; padding: .75rem; margin-bottom: 1rem; background: #f8fbff; display: grid; gap: .75rem; }
.ma-group { display: grid; gap: .4rem; }
.ma-label { font-size: .75rem; font-weight: 600; color: #475569; }
.ma-controls { display: flex; gap: .5rem; flex-wrap: wrap; }
.ma-controls input { padding: .4rem .65rem; border: 1px solid #cbd5e1; border-radius: 6px; font-size: .82rem; width: 130px; }
.ma-controls button { padding: .4rem .75rem; border: none; border-radius: 6px; font-size: .8rem; cursor: pointer; background: #1e3a5f; color: #fff; }
.ma-controls .ghost-btn { background: #334155; }
.ma-controls button:hover { filter: brightness(.97); }
.ma-chips { display: flex; flex-wrap: wrap; gap: .45rem; }
.ma-chip { display: inline-flex; align-items: center; gap: .4rem; border: 1px solid #cbd5e1; border-radius: 999px; background: #fff;
  color: #334155; padding: .2rem .55rem; font-size: .75rem; cursor: pointer; }
.ma-chip strong { color: #dc2626; font-size: .8rem; line-height: 1; }
.ma-error { color: #b91c1c; font-size: .78rem; font-weight: 600; }
.empty { text-align: center; padding: 2.5rem; color: #a0aec0; font-size: .9rem; }
.loading { text-align: center; padding: 1.5rem; color: #718096; }
.profile-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: .75rem; }
.picker-list { display: flex; flex-direction: column; gap: .5rem; max-height: 280px; overflow: auto; }
.picker-item { width: 100%; border: 1px solid #e2e8f0; background: #fff; border-radius: 6px; padding: .55rem .75rem;
  display: grid; grid-template-columns: 90px 1fr 90px; gap: .5rem; align-items: center; text-align: left; cursor: pointer; }
.picker-item.selected { border-color: #1e3a5f; background: #ebf8ff; }
.picker-code { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; color: #1e3a5f; font-weight: 600; }
.picker-market { justify-self: end; color: #718096; font-size: .78rem; }
.inline-check-row { display: flex; align-items: center; gap: .75rem; flex-wrap: wrap; margin-bottom: .75rem; }
.inline-check { display: inline-flex; align-items: center; gap: .45rem; color: #334155; font-size: .85rem; font-weight: 600; }
.inline-check input { width: 15px; height: 15px; }
.inline-meta { color: #64748b; font-size: .8rem; }
[x-cloak] { display: none !important; }

@media (max-width: 768px) {
  main { padding: 1rem; }
  .chart-wrap { height: 340px; }
  .ma-controls input { width: 110px; }
  .picker-item { grid-template-columns: 80px 1fr; }
  .picker-market { justify-self: start; grid-column: 2 / 3; }
}
