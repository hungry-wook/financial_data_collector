# Copy this file to .env and fill required values.

# Required: KRX auth key issued by openapi.krx.co.kr
# Used by this app to initialize: KRXOpenAPI(api_key=KRX_AUTH_KEY)
KRX_AUTH_KEY=

# Optional
KRX_DAILY_LIMIT=10000

# Required for app runtime (local/compose)
# Example for local postgres:
# DATABASE_URL=postgresql://postgres:CHANGE_ME_STRONG_PASSWORD@127.0.0.1:5432/financial_data
DATABASE_URL=

# Docker Compose PostgreSQL defaults
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=financial_data
# NOTE:
# - docker compose runtime uses internal network (`postgres:5432`) and does not expose DB to host by default.
# - changing POSTGRES_PASSWORD does not update an existing DB volume automatically.
#   use `just reset-db` for development/test re-initialization.

# Daily collector loop defaults (docker compose collector service)
COLLECTOR_INTERVAL_SECONDS=86400
COLLECTOR_DATE_OFFSET_DAYS=1

# Optional: PostgreSQL schema contract tests
# Example: postgresql://postgres:postgres@127.0.0.1:5432/postgres
TEST_POSTGRES_DSN=
# Optional: PostgreSQL connect timeout for tests (seconds)
TEST_POSTGRES_CONNECT_TIMEOUT_SEC=5

# Optional: run postgres tests with temporary Docker container (default port 5431)
# When enabled, TEST_POSTGRES_DSN is ignored.
TEST_POSTGRES_USE_TEMP_CONTAINER=0
TEST_POSTGRES_DOCKER_PORT=5431
TEST_POSTGRES_DOCKER_CONTAINER=fdc-pg-test
TEST_POSTGRES_DOCKER_IMAGE=postgres:16
TEST_POSTGRES_DOCKER_USER=postgres
TEST_POSTGRES_DOCKER_PASSWORD=postgres
TEST_POSTGRES_DOCKER_DB=postgres
TEST_POSTGRES_DOCKER_WAIT_SEC=60
